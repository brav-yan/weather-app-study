### Опис Додатку Weather

Додаток Weather — це веб-додаток для отримання інформації про погоду в реальному часі. Основна мета цього додатку полягає в наданні користувачам можливості легко отримувати актуальні погодні дані для різних міст, здійснювати пошук за містами та зберігати улюблені місця для швидкого доступу.

#### Основна Функціональність:

1. **Реєстрація та Авторизація**: Користувачі можуть зареєструватися та увійти до системи, використовуючи свої облікові дані (логін/пароль). Всі роутери, що потребують авторизації, є приватними.

2. **Автокомпліт для Міст**: Додаток включає функціональність автокомпліта, яка дозволяє користувачам швидко знаходити потрібні міста для отримання прогнозу погоди.

3. **Відображення Погоди**: Інформація про погоду відображається у вигляді картки, яка містить дані про погоду на поточний день.

4. **Графік Температури**: Додаток реалізує графік температури на поточний день, використовуючи бібліотеки для візуалізації (Chart.js).

5. ~~**Блоки Погоди**: Користувачі можуть створити до п'яти блоків погоди для різних міст, із можливістю додавати нові блоки через кнопку “+”.~~

6. ~~**Видалення Блоків**: Користувачі можуть видаляти блоки погоди з підтвердженням через модальне вікно.~~

7. **Вкладка "Обране"**: Користувачі можуть додавати та видаляти улюблені міста. Обрані міста зберігаються у базі даних, а максимальна кількість улюблених міст обмежена п'ятьма.

8. **Адаптивний Дизайн**: Додаток має адаптивний дизайн, що забезпечує комфортне використання на різних пристроях.

9. ~~**Перемикання Відображення**: Додаток надає можливість перемикання між відображенням погодних умов "День/Ніч", а також "День/На 5 днів".~~

10. **Прелоадери**: Включені прелоадери для візуалізації процесу завантаження даних з API.

Create your configuration file `.env`

```yaml
#For client
VITE_PORT=3000
WEATHER_API_KEY = '0a7384eacf0bf030169dafe3d90513f6'

#For server
WEATHER_SERVER_HOST=localhost
WEATHER_SERVER_PORT=5000

ACCESS_SECRET=access_secret
REFRESH_SECRET=refresh_secret
ACCESS_TOKEN_TIME=15m
REFRESH_TOKEN_TIME=60d

SALT_ROUNDS=9
CLIENT_URL=http://localhost:3000

#For database
DB_USER=postgres
DB_PASS=root
DB_NAME=weatherdb
DB_DIALECT=postgres
```

# Документація API

## Контролер аутентифікації

Цей контролер керує аутентифікацією користувачів і включає в себе наступні функції:

### 1. Реєстрація

**POST** `/auth/registration`

**Опис:** Реєстрація нового користувача.

**Тіло запиту:**

<pre><code>{
  "fullName": "Ім'я Прізвище",
  "email": "user@example.com",
  "password": "Пароль"
}
</code></pre>

**Відповідь:**

- **201 Created**
<pre><code>{
  "refreshToken": "Токен оновлення",
  "user": {
    "id": "ID користувача",
    "fullName": "Ім'я Прізвище",
    "email": "user@example.com"
  }
}
</code></pre>
- **Помилка 400** - При неправильних даних.

---

### 2. Авторизація

**POST** `/auth/login`

**Опис:** Авторизація користувача в систему.

**Тіло запиту:**

<pre><code>{
  "email": "user@example.com",
  "password": "Пароль"
}
</code></pre>

**Відповідь:**

- **200 OK**
<pre><code>{
  "refreshToken": "Токен оновлення",
  "user": {
    "id": "ID користувача",
    "fullName": "Ім'я Прізвище",
    "email": "user@example.com"
  }
}
</code></pre>
- **Помилка 401** - При неправильних облікових даних.

---

### 3. Вийти

**POST** `/auth/logout`

**Опис:** Вихід користувача з системи.

**Відповідь:**

- **204 No Content** - Успішний вихід.
- **Помилка 401** - Якщо користувач не авторизований.

---

### 4. Оновлення токена

**POST** `/auth/refresh`

**Опис:** Оновлення токена доступу з використанням токена оновлення.

**Відповідь:**

- **200 OK**
<pre><code>{
  "refreshToken": "Токен оновлення",
  "user": {
    "id": "ID користувача",
    "fullName": "Ім'я Прізвище",
    "email": "user@example.com"
  }
}
</code></pre>
- **Помилка 401** - Якщо токен оновлення недійсний.

---

### 5. Отримати список всіх зареєстрованих користувачів

**GET** `/auth/users`

**Опис:** Отримати список усіх користувачів.

**Відповідь:**

- **200 OK**
<pre><code>[
  {
    "id": "ID користувача",
    "fullName": "Ім'я Прізвище",
    "email": "user@example.com"
  },
  ...
]
</code></pre>
- **Помилка 401** - Якщо немає доступних користувачів.

## Контролер обраних міст

Цей контролер керує обраними містами користувачів і включає в себе наступні функції:

### 1. Отримати список обраних міст користувача

**GET** `/favorites`

**Опис:** Отримати список обраних міст користувача.

**Відповідь:**

- **200 OK**
<pre><code>[
  {
    "openWeatherId": "ID погоди",
    "cityName": "Назва міста",
    "country": "Країна"
  },
  ...
]
</code></pre>
- **Помилка 401** - Якщо користувач не авторизований.

---

### 2. Додати обране місто

**POST** `/favorites`

**Опис:** Додати місто до обраних.

**Тіло запиту:**

<pre><code>{
  "openWeatherId": "ID погоди",
  "cityName": "Назва міста",
  "country": "Країна"
}
</code></pre>

**Відповідь:**

- **201 Created**
<pre><code>{
  "openWeatherId": "ID погоди",
  "cityName": "Назва міста",
  "country": "Країна"
}
</code></pre>
- **Помилка 400** - При неправильних даних.

---

### 3. Видалити обране місто

**DELETE** `/favorites/:openWeatherId`

**Опис:** Видалити місто з обраних за ID міста з OpenWeather.

**Відповідь:**

- **204 No Content** - Успішне видалення.
- **Помилка 404** - Якщо місто не знайдено.
- **Помилка 401** - Якщо користувач не авторизований.
